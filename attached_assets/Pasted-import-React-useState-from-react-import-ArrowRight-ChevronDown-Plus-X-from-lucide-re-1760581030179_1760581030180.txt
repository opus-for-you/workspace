import React, { useState } from 'react';
import { ArrowRight, ChevronDown, Plus, X } from 'lucide-react';

const OpusEditorialComponents = () => {
  const [currentView, setCurrentView] = useState('onboarding');
  const [onboardingStep, setOnboardingStep] = useState(1);
  const [selectedGoal, setSelectedGoal] = useState(null);

  // Editorial Design System
  const styles = {
    // Colors
    colors: {
      ink: '#0A0A0A',
      charcoal: '#1C1C1C',
      graphite: '#505050',
      stone: '#8A8A8A',
      fog: '#B8B8B8',
      pearl: '#E8E8E8',
      alabaster: '#F4F4F4',
      ivory: '#FAFAFA',
      pure: '#FFFFFF',
      forest: '#1B4332',
      sage: '#52796F',
      rust: '#A84843',
      sand: '#D4A574',
      ocean: '#2C5282'
    },
    
    // Typography
    fonts: {
      display: "'Fraunces', 'Libre Baskerville', Georgia, serif",
      editorial: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif",
      body: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif",
      mono: "'JetBrains Mono', 'SF Mono', Monaco, monospace"
    }
  };

  // Onboarding View - Editorial Full Screen
  const OnboardingView = () => {
    const questions = [
      {
        category: "VISION",
        question: "What does meaningful work look like to you?",
        prompt: "Forget titles. Think impact.",
      },
      {
        category: "ENERGY",
        question: "When do you lose track of time at work?",
        prompt: "These moments reveal your true strengths.",
      },
      {
        category: "DIRECTION", 
        question: "Who do you want to become professionally?",
        prompt: "Not what. Who.",
      }
    ];

    const current = questions[onboardingStep - 1];

    return (
      <div 
        className="min-h-screen flex flex-col"
        style={{ 
          backgroundColor: styles.colors.ivory,
          fontFamily: styles.fonts.body
        }}
      >
        {/* Minimal Progress */}
        <div className="w-full" style={{ borderBottom: `1px solid ${styles.colors.pearl}` }}>
          <div 
            className="h-px transition-all duration-700"
            style={{ 
              width: `${(onboardingStep / questions.length) * 100}%`,
              backgroundColor: styles.colors.charcoal
            }}
          />
        </div>

        {/* Content */}
        <div className="flex-1 flex items-center justify-center p-8 md:p-16">
          <div className="w-full max-w-3xl">
            {/* Category */}
            <div 
              className="mb-8"
              style={{ 
                fontSize: '0.75rem',
                letterSpacing: '0.08em',
                color: styles.colors.stone
              }}
            >
              {current.category}
            </div>

            {/* Question - Editorial Scale */}
            <h1 
              className="mb-4 leading-tight"
              style={{ 
                fontFamily: styles.fonts.display,
                fontSize: 'clamp(2.5rem, 8vw, 4.5rem)',
                fontWeight: 300,
                color: styles.colors.charcoal,
                letterSpacing: '-0.02em'
              }}
            >
              {current.question}
            </h1>

            {/* Prompt */}
            <p 
              className="mb-16"
              style={{ 
                fontSize: '1.125rem',
                color: styles.colors.graphite,
                fontWeight: 300
              }}
            >
              {current.prompt}
            </p>

            {/* Input - Minimal */}
            <textarea
              className="w-full p-0 resize-none transition-all duration-200"
              style={{ 
                backgroundColor: 'transparent',
                border: 'none',
                borderBottom: `1px solid ${styles.colors.fog}`,
                fontSize: '1.125rem',
                lineHeight: 1.8,
                color: styles.colors.ink,
                outline: 'none'
              }}
              placeholder="..."
              rows={3}
              onFocus={(e) => e.target.style.borderBottomColor = styles.colors.charcoal}
              onBlur={(e) => e.target.style.borderBottomColor = styles.colors.fog}
            />

            {/* Navigation */}
            <div className="flex justify-between items-center mt-24">
              <button
                className="text-sm tracking-wider transition-opacity"
                style={{ 
                  color: styles.colors.stone,
                  opacity: onboardingStep > 1 ? 1 : 0,
                  pointerEvents: onboardingStep > 1 ? 'auto' : 'none'
                }}
                onClick={() => setOnboardingStep(Math.max(1, onboardingStep - 1))}
              >
                BACK
              </button>
              
              <button
                className="group flex items-center gap-3 transition-all"
                onClick={() => {
                  if (onboardingStep < questions.length) {
                    setOnboardingStep(onboardingStep + 1);
                  } else {
                    setCurrentView('dashboard');
                  }
                }}
                style={{ 
                  fontSize: '0.875rem',
                  letterSpacing: '0.05em',
                  color: styles.colors.charcoal
                }}
              >
                {onboardingStep === questions.length ? 'BEGIN' : 'CONTINUE'}
                <ArrowRight 
                  size={16} 
                  className="transition-transform group-hover:translate-x-1"
                />
              </button>
            </div>
          </div>
        </div>

        {/* Step Indicator - Bottom */}
        <div 
          className="text-center py-8"
          style={{ 
            fontSize: '0.75rem',
            color: styles.colors.stone
          }}
        >
          {onboardingStep} / {questions.length}
        </div>
      </div>
    );
  };

  // Dashboard View - Editorial Layout
  const DashboardView = () => {
    return (
      <div 
        className="min-h-screen"
        style={{ 
          backgroundColor: styles.colors.ivory,
          fontFamily: styles.fonts.body
        }}
      >
        {/* Navigation - Minimal */}
        <nav 
          className="flex justify-between items-center px-8 md:px-16 py-6"
          style={{ borderBottom: `1px solid ${styles.colors.pearl}` }}
        >
          <div className="flex items-center gap-12">
            <h1 
              className="text-2xl"
              style={{ 
                fontFamily: styles.fonts.display,
                fontWeight: 300,
                color: styles.colors.charcoal
              }}
            >
              Opus
            </h1>
            <div className="hidden md:flex gap-8">
              {['Dashboard', 'Goals', 'Tasks', 'Reflect'].map((item) => (
                <button
                  key={item}
                  className="text-sm transition-colors"
                  style={{ 
                    color: item === 'Dashboard' ? styles.colors.charcoal : styles.colors.stone,
                    letterSpacing: '0.02em'
                  }}
                  onMouseEnter={(e) => e.target.style.color = styles.colors.charcoal}
                  onMouseLeave={(e) => {
                    if (item !== 'Dashboard') e.target.style.color = styles.colors.stone;
                  }}
                >
                  {item}
                </button>
              ))}
            </div>
          </div>
          <button 
            className="text-sm"
            style={{ color: styles.colors.stone }}
          >
            MENU
          </button>
        </nav>

        {/* Main Content - Editorial Grid */}
        <div className="px-8 md:px-16 py-12">
          {/* Hero Section - Your North Star */}
          <div className="mb-16">
            <p 
              className="mb-4"
              style={{ 
                fontSize: '0.75rem',
                letterSpacing: '0.08em',
                color: styles.colors.stone
              }}
            >
              YOUR NORTH STAR
            </p>
            <h2 
              className="leading-tight"
              style={{ 
                fontFamily: styles.fonts.display,
                fontSize: 'clamp(2rem, 5vw, 3.5rem)',
                fontWeight: 300,
                color: styles.colors.charcoal,
                maxWidth: '900px'
              }}
            >
              Build products that bridge human needs with technological possibility.
            </h2>
          </div>

          {/* Content Grid */}
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-16">
            {/* Main Column - 2/3 */}
            <div className="lg:col-span-2 space-y-16">
              {/* This Week Section */}
              <section>
                <div 
                  className="flex items-baseline justify-between mb-8"
                  style={{ borderBottom: `1px solid ${styles.colors.pearl}`, paddingBottom: '1rem' }}
                >
                  <h3 
                    className="text-sm tracking-wider"
                    style={{ color: styles.colors.charcoal }}
                  >
                    THIS WEEK
                  </h3>
                  <span 
                    className="text-sm"
                    style={{ color: styles.colors.stone }}
                  >
                    OCT 14-20
                  </span>
                </div>

                <div className="space-y-6">
                  {[
                    {
                      priority: "01",
                      title: "Present product vision to leadership",
                      context: "Strategic Visibility",
                      timing: "Tuesday, High Energy"
                    },
                    {
                      priority: "02", 
                      title: "Deep work on system architecture",
                      context: "Technical Leadership",
                      timing: "Thursday Morning"
                    },
                    {
                      priority: "03",
                      title: "Mentor junior developers",
                      context: "Team Development",
                      timing: "Friday Afternoon"
                    }
                  ].map((task) => (
                    <div 
                      key={task.priority}
                      className="group cursor-pointer transition-all duration-300"
                      style={{ 
                        borderBottom: `1px solid ${styles.colors.pearl}`,
                        paddingBottom: '1.5rem'
                      }}
                      onMouseEnter={(e) => {
                        e.currentTarget.style.borderBottomColor = styles.colors.charcoal;
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.borderBottomColor = styles.colors.pearl;
                      }}
                    >
                      <div className="flex items-start gap-6">
                        <span 
                          className="text-2xl"
                          style={{ 
                            fontFamily: styles.fonts.mono,
                            color: styles.colors.fog,
                            fontWeight: 200
                          }}
                        >
                          {task.priority}
                        </span>
                        <div className="flex-1">
                          <h4 
                            className="text-xl mb-2"
                            style={{ color: styles.colors.charcoal }}
                          >
                            {task.title}
                          </h4>
                          <div className="flex gap-6 text-sm">
                            <span style={{ color: styles.colors.stone }}>
                              {task.context}
                            </span>
                            <span style={{ color: styles.colors.fog }}>•</span>
                            <span style={{ color: styles.colors.stone }}>
                              {task.timing}
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </section>

              {/* Goals Progress - Typography Based */}
              <section>
                <h3 
                  className="text-sm tracking-wider mb-8"
                  style={{ 
                    color: styles.colors.charcoal,
                    borderBottom: `1px solid ${styles.colors.pearl}`,
                    paddingBottom: '1rem'
                  }}
                >
                  CURRENT CHAPTER
                </h3>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-12">
                  {[
                    { metric: "82", unit: "DAYS", label: "Building thought leadership" },
                    { metric: "14", unit: "CONNECTIONS", label: "Strategic relationships formed" },
                    { metric: "3", unit: "MILESTONES", label: "Technical achievements" },
                    { metric: "92", unit: "% ALIGNED", label: "With your vision" }
                  ].map((stat, idx) => (
                    <div key={idx}>
                      <div className="flex items-baseline gap-2 mb-2">
                        <span 
                          className="text-5xl"
                          style={{ 
                            fontFamily: styles.fonts.display,
                            fontWeight: 300,
                            color: styles.colors.charcoal
                          }}
                        >
                          {stat.metric}
                        </span>
                        <span 
                          className="text-xs tracking-wider"
                          style={{ color: styles.colors.stone }}
                        >
                          {stat.unit}
                        </span>
                      </div>
                      <p 
                        className="text-sm"
                        style={{ color: styles.colors.graphite }}
                      >
                        {stat.label}
                      </p>
                    </div>
                  ))}
                </div>
              </section>
            </div>

            {/* Sidebar - 1/3 */}
            <div className="space-y-12">
              {/* Reflection Prompt */}
              <div 
                className="p-6"
                style={{ 
                  backgroundColor: styles.colors.pure,
                  border: `1px solid ${styles.colors.pearl}`
                }}
              >
                <h4 
                  className="text-sm tracking-wider mb-4"
                  style={{ color: styles.colors.charcoal }}
                >
                  WEEKLY REFLECTION
                </h4>
                <p 
                  className="mb-6"
                  style={{ 
                    color: styles.colors.graphite,
                    fontSize: '0.875rem',
                    lineHeight: 1.6
                  }}
                >
                  What patterns are emerging in your work? Take 10 minutes to capture insights.
                </p>
                <button
                  className="w-full py-3 transition-all duration-200"
                  style={{
                    backgroundColor: styles.colors.charcoal,
                    color: styles.colors.pure,
                    fontSize: '0.75rem',
                    letterSpacing: '0.08em'
                  }}
                  onMouseEnter={(e) => {
                    e.currentTarget.style.backgroundColor = styles.colors.pure;
                    e.currentTarget.style.color = styles.colors.charcoal;
                    e.currentTarget.style.border = `1px solid ${styles.colors.charcoal}`;
                  }}
                  onMouseLeave={(e) => {
                    e.currentTarget.style.backgroundColor = styles.colors.charcoal;
                    e.currentTarget.style.color = styles.colors.pure;
                    e.currentTarget.style.border = 'none';
                  }}
                >
                  BEGIN
                </button>
              </div>

              {/* Energy Levels */}
              <div>
                <h4 
                  className="text-sm tracking-wider mb-6"
                  style={{ color: styles.colors.charcoal }}
                >
                  ENERGY PATTERNS
                </h4>
                <div className="space-y-4">
                  <div>
                    <div className="flex justify-between mb-2">
                      <span className="text-sm" style={{ color: styles.colors.graphite }}>
                        Peak Focus
                      </span>
                      <span className="text-sm" style={{ color: styles.colors.charcoal }}>
                        9-11 AM
                      </span>
                    </div>
                    <div style={{ height: '1px', backgroundColor: styles.colors.pearl }}>
                      <div 
                        style={{ 
                          width: '75%', 
                          height: '100%', 
                          backgroundColor: styles.colors.charcoal 
                        }} 
                      />
                    </div>
                  </div>
                  <div>
                    <div className="flex justify-between mb-2">
                      <span className="text-sm" style={{ color: styles.colors.graphite }}>
                        Creative Flow
                      </span>
                      <span className="text-sm" style={{ color: styles.colors.charcoal }}>
                        2-4 PM
                      </span>
                    </div>
                    <div style={{ height: '1px', backgroundColor: styles.colors.pearl }}>
                      <div 
                        style={{ 
                          width: '60%', 
                          height: '100%', 
                          backgroundColor: styles.colors.charcoal 
                        }} 
                      />
                    </div>
                  </div>
                </div>
              </div>

              {/* Upcoming */}
              <div>
                <h4 
                  className="text-sm tracking-wider mb-6"
                  style={{ color: styles.colors.charcoal }}
                >
                  NEXT WEEK
                </h4>
                <ul className="space-y-3">
                  {[
                    "Product strategy session",
                    "1:1 with Sarah Chen",
                    "Technical review"
                  ].map((item, idx) => (